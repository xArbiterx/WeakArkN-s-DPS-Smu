# 测试版方舟DPS计算器

## 数据结构



## 算法 (来源: prts.wiki)
- 攻击力计算顺序
    - X 为基础攻击
    1. 加算固定攻击（直接加算） a1 a2 X1 = (X + a1 + a2)
    1. 加算倍率攻击（直接乘算） b1% b2% X2 = (X1 + X1 * b%)
    1. 加算鼓舞（最终加算） c1 c2  X3 = (X2 + c1 + c2)
    1. 提升至/相当于攻击力N%（最终乘算） d1% d2% X4 = X3 * d1% * d2%
- 防御力计算顺序
    - Y 为基础防御
    1. 加算	Y3=(Y+c1+c2)
    1. 乘算	Y4=Y3*(1+d1%)*(1+d2%)
- 伤害公式
    - 物理伤害:
         基本物理伤害 = MAX(0.05 * 攻击力 * 攻击力倍率, 攻击力 * 攻击力倍率 - (1- 百分比无视防御) * MAX(0, 目标的防御力结果 - 数值无视防御))

    - 法术伤害
基本法术伤害 = MAX(0.05 * 攻击力 * 攻击力倍率, 0.01 * 攻击力 * 攻击力倍率 * MAX(0, 100 - (1- 百分比无视法抗) * MAX(0, 目标的法术抗性结果 - 数值无视法抗)))

    - 真实伤害
基本真实伤害 = 攻击力 * 攻击力倍率

    - 最终伤害 = 上述构成的基本伤害 * 该类型伤害对应的伤害倍率
